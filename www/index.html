<!DOCTYPE html PUBLIC>
<html lang="en-GB">
<head>
  <title>Ticker Demo ~ Chris Kemp
  </title>
  <meta http-equiv="content-type" content="text/html">
  <meta name="description" content="">
  <link rel="stylesheet" href="style.css">

</head>
<body>
  <div id="body" class="body shadow">
    <div id="header" class="body__header">
      <h1 class="body__header--text">Kemp Ticker
      </h1>

    </div>
    <div id="content" class="body__content">
      <h2>Sample Ticker
      </h2>
      <p>Keep up to date and ahead of the game by pulling your figures straight from the stock markets with <em>Kemp Ticker
      </em> &reg;.
    </p>
    <h3>Stats
    </h3>
    <div class="stats">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Company Name</th>
            <th class="number">Price</th>
            <th class="number">Change</th>
            <th class="number">Chg %</th>
            <th class="number">Mkt Cap</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th>GOOG</th>
            <td>Google Inc</span></td>
            <td class="number"><span>658.89</span></td>
            <td class="number"><span>-2.01</span></td>
            <td class="number"><span>-0.30%</span></td>
            <td class="number"><span>460.74B</span></td>
          </tr>
          <tr>
            <th>BIDU</th>
            <td>Baidu Inc (ADR)</span></td>
            <td class="number"><span>160.19</span></td>
            <td class="number"><span>-2.70</span></td>
            <td class="number"><span>-1.66%</span></td>
            <td class="number"><span>56.49B</span></td>
          </tr>
          <tr>
            <th>YNDX</th>
            <td>Yandex NV</span></td>
            <td class="number"><span>11.80</span></td>
            <td class="number"><span>-0.11</span></td>
            <td class="number"><span>-0.92%</span></td>
            <td class="number"><span>3.75B</span></td>
          </tr>
          <tr>
            <th>BCOR</th>
            <td>Blucora Inc</span></td>
            <td class="number"><span>13.43</span></td>
            <td class="number"><span>-0.12</span></td>
            <td class="number"><span>-0.89%</span></td>
            <td class="number"><span>557.51M</span></td>
          </tr>
          <tr>
            <th>YHOO</th>
            <td>Yahoo! Inc.</th>
            <td class="number"><span>34.79</th>
            <td class="number"><span>-0.40</th>
            <td class="number"><span>-1.14%</th>
            <td class="number"><span>32.76B</th>
          </tr>
          <tr>
            <th>MSFT</th>
            <td>Microsoft Corp</th>
            <td class="number"><span>46.17</th>
            <td class="number"><span>-0.44</th>
            <td class="number"><span>-0.93%</th>
            <td class="number"><span>369.67B</th>
          </tr>
          <tr>
            <th>IACI</th>
            <td>IAC/InterActiveCorp</span></td>
            <td class="number"><span>73.17</span></td>
            <td class="number"><span>-0.44</span></td>
            <td class="number"><span>-0.60%</span></td>
            <td class="number"><span>6.09B</span></td>
          </tr>
          <tr>
            <th>FB</th>
            <td>Facebook Inc</span></td>
            <td class="number"><span>94.20</span></td>
            <td class="number"><span>-1.11</span></td>
            <td class="number"><span>-1.16%</span></td>
            <td class="number"><span>264.27B</span></td>
          </tr>
          <tr>
            <th>AAPL</th>
            <td>Apple Inc.</span></td>
            <td class="number"><span>113.76</span></td>
            <td class="number"><span>-1.25</span></td>
            <td class="number"><span>-1.09%</span></td>
            <td class="number"><span>649.88B</span></td>
          </tr>
          <tr>
            <th>TWTR</th>
            <td>Twitter Inc</span></td>
            <td class="number"><span>27.19</span></td>
            <td class="number"><span>-0.42</span></td>
            <td class="number"><span>-1.52%</span></td>
            <td class="number"><span>18.35B</span></td>
          </tr>
          <tr>
            <th>{{Name}}</th>
            <td>{{Company Name}}</span></td>
            <td class="number"><span>{{Price}}</span></td>
            <td class="number"><span>{{Change}}</span></td>
            <td class="number"><span>{{Change %}}</span></td>
            <td class="number"><span>{{Mkt Cap}}</span></td>
          </tr>
        </tbody>
      </table>
      <button onclick="toggleAnim()">Animate</button>
    </div>
    <h3>Graph</h3>
  </div>
  <!--
  <div id="footer" class="body__footer">
    <p class="body__footer--text">This is the footer</p>
  </div>
  -->
</div>
<script type="text/javascript">
  function addClass(e, c) {
    removeClass(e, c);
    e.className = (e.className + " " + c).trim();
  }

  function removeClass(e, c) {
    if (typeof e.className === "undefined") return;
    var classes = e.className.split(" ");
    var r = [];
    for (var i=0,j=classes.length;i<j;i++)
      if (classes[i] !== c)
        r.push(classes[i])
    e.className = r.join(" ");
  }

  function replaceCell(e, s) {
    addClass(e, "animOut");
    e["data-text"] = s;
  }

  function listenForAnimEnd(anim) {
    var e = anim.target;
    if (anim.animationName === "flipOutX") {
      e.innerText = e["data-text"];
      delete e["data-text"];
      removeClass(e, "animOut");
      addClass(e, "animIn");
    } else {
      removeClass(e, "animIn");
    }
  }

  function toggleAnim() {
    var cells = document.querySelectorAll(".stats td span");
    for (var i=0,j=cells.length;i<j;i++) {
      var cell = cells[i];
      replaceCell(cell, cell.innerText.split("").reverse().join(""));
    }
  }

  var items = document.querySelectorAll(".stats td span");
  for (var i=0,j=items.length;i<j;i++) {
    items[i].addEventListener("animationend", listenForAnimEnd, false);
  }
</script>
</body>
</html>
